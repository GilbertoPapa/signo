{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/assertThisInitialized","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.captureRef=M,e.releaseCapture=q,e.captureScreen=function(t){var o=L(t),n=o.options;o.errors;return y.captureScreen(n)},e.default=void 0;var n=o(r(d[2])),u=o(r(d[3])),s=o(r(d[4])),p=o(r(d[5])),l=o(r(d[6])),f=o(r(d[7])),c=o(r(d[8])),h=t(r(d[9])),v=r(d[10]),y=v.NativeModules.RNViewShot,C=new Promise(function(){});y||console.warn(\"NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\");var b=[\"png\",\"jpg\"].concat(\"android\"===v.Platform.OS?[\"webm\",\"raw\"]:[]),w=[\"tmpfile\",\"base64\",\"data-uri\"].concat(\"android\"===v.Platform.OS?[\"zip-base64\"]:[]),R={format:\"png\",quality:1,result:\"tmpfile\",snapshotContentContainer:!1};function L(t){var o=[];return\"width\"in(t=(0,c.default)({},R,t))&&(\"number\"!=typeof t.width||t.width<=0)&&(o.push(\"option width should be a positive number\"),delete t.width),\"height\"in t&&(\"number\"!=typeof t.height||t.height<=0)&&(o.push(\"option height should be a positive number\"),delete t.height),(\"number\"!=typeof t.quality||t.quality<0||t.quality>1)&&(o.push(\"option quality should be a number between 0.0 and 1.0\"),t.quality=R.quality),\"boolean\"!=typeof t.snapshotContentContainer&&o.push(\"option snapshotContentContainer should be a boolean\"),-1===b.indexOf(t.format)&&(t.format=R.format,o.push(\"option format '\"+t.format+\"' is not in valid formats: \"+b.join(\" | \"))),-1===w.indexOf(t.result)&&(t.result=R.result,o.push(\"option result '\"+t.result+\"' is not in valid formats: \"+w.join(\" | \"))),{options:t,errors:o}}function M(t,o){if(\"number\"!=typeof t){var n=(0,v.findNodeHandle)(t);if(!n)return Promise.reject(new Error(\"findNodeHandle failed to resolve view=\"+String(t)));t=n}var u=L(o),s=u.options;u.errors;return y.captureRef(t,s)}function q(t){\"string\"!=typeof t||y.releaseCapture(t)}var P=(function(t){function o(){var t,u;(0,n.default)(this,o);for(var f=arguments.length,c=new Array(f),h=0;h<f;h++)c[h]=arguments[h];return(u=(0,s.default)(this,(t=(0,p.default)(o)).call.apply(t,[this].concat(c)))).firstLayoutPromise=new Promise(function(t){u.resolveFirstLayout=t}),u.capture=function(){return u.firstLayoutPromise.then(function(){var t=(0,l.default)(u).root;return t?M(t,u.props.options):C}).then(function(t){return u.onCapture(t),t},function(t){throw u.onCaptureFailure(t),t})},u.onCapture=function(t){if(u.root){u.lastCapturedURI&&setTimeout(q,500,u.lastCapturedURI),u.lastCapturedURI=t;var o=u.props.onCapture;o&&o(t)}},u.onCaptureFailure=function(t){if(u.root){var o=u.props.onCaptureFailure;o&&o(t)}},u.syncCaptureLoop=function(t){if(cancelAnimationFrame(u._raf),\"continuous\"===t){var o=\"-\";u._raf=requestAnimationFrame(function t(){u._raf=requestAnimationFrame(t),o!==u.lastCapturedURI&&(o=u.lastCapturedURI,u.capture())})}},u.onRef=function(t){u.root=t},u.onLayout=function(t){var o=u.props.onLayout;u.resolveFirstLayout(t.nativeEvent.layout),o&&o(t)},u}return(0,f.default)(o,t),(0,u.default)(o,[{key:\"componentDidMount\",value:function(){\"mount\"===this.props.captureMode?this.capture():this.syncCaptureLoop(this.props.captureMode)}},{key:\"componentWillReceiveProps\",value:function(t){t.captureMode!==this.props.captureMode&&this.syncCaptureLoop(t.captureMode)}},{key:\"componentDidUpdate\",value:function(){\"update\"===this.props.captureMode&&this.capture()}},{key:\"componentWillUnmount\",value:function(){this.syncCaptureLoop(null)}},{key:\"render\",value:function(){var t=this.props.children;return h.default.createElement(v.View,{ref:this.onRef,collapsable:!1,onLayout:this.onLayout,style:this.props.style},t)}}]),o})(h.Component);e.default=P,P.captureRef=M,P.releaseCapture=q});","map":[[1,151,119,7],[1,160,120,2,"optionsObject"],[1,163,121,19],[1,167,121,19,"_validateOptions2"],[1,169,122,30,"validateOptions"],[1,171,122,46,"optionsObject"],[1,174,122,10,"options"],[1,176,121,19,"_validateOptions2"],[1,178,122,10,"options"],[1,186,121,19,"_validateOptions2"],[1,188,122,19,"errors"],[1,195,129,2],[1,202,129,9,"RNViewShot"],[1,204,129,20,"captureScreen"],[1,218,129,34,"options"],[1,334,2,0,"_react"],[1,336,2,0,"_interopRequireWildcard"],[1,338,2,0,"r"],[1,340,2,0,"d"],[1,342,2,0],[1,347,3,0,"_reactNative"],[1,349,3,0,"r"],[1,351,3,0,"d"],[1,353,3,0],[1,358,4,8,"RNViewShot"],[1,360,4,23,"NativeModules"],[1,362,4,23,"NativeModules"],[1,376,4,8,"RNViewShot"],[1,387,6,6,"neverEndingPromise"],[1,389,6,27],[1,393,6,31,"Promise"],[1,401,6,39],[1,415,17,5,"RNViewShot"],[1,418,18,2,"console"],[1,426,18,10,"warn"],[1,431,19,4],[1,525,23,0],[1,529,23,6,"acceptedFormats"],[1,532,23,25],[1,538,23,32],[1,545,23,39,"concat"],[1,552,24,18],[1,564,24,2,"Platform"],[1,566,24,2,"Platform"],[1,575,24,11,"OS"],[1,579,24,31],[1,586,24,39],[1,597,27,6,"acceptedResults"],[1,600,27,25],[1,610,27,36],[1,619,27,46],[1,631,27,58,"concat"],[1,638,28,18],[1,650,28,2,"Platform"],[1,652,28,2,"Platform"],[1,661,28,11,"OS"],[1,665,28,31],[1,683,31,6,"defaultOptions"],[1,686,32,2,"format"],[1,693,32,10],[1,699,33,2,"quality"],[1,707,33,11],[1,709,34,2,"result"],[1,716,34,10],[1,726,35,2,"snapshotContentContainer"],[1,752,35,28],[1,755,39,0],[1,764,39,9,"validateOptions"],[1,766,40,2,"options"],[1,769,46,2],[1,773,46,8,"errors"],[1,778,84,2],[1,784,48,4],[1,794,42,2,"options"],[1,797,42,9],[1,799,42,9,"_objectSpread2"],[1,801,42,9,"default"],[1,813,43,7,"defaultOptions"],[1,815,44,7,"options"],[1,821,49,30],[1,838,49,12,"options"],[1,840,49,20,"width"],[1,847,49,42,"options"],[1,849,49,50,"width"],[1,856,49,59],[1,861,51,4,"errors"],[1,863,51,11,"push"],[1,868,51,16],[1,919,52,11,"options"],[1,921,52,19,"width"],[1,928,55,4],[1,939,55,16,"options"],[1,943,56,31],[1,960,56,12,"options"],[1,962,56,20,"height"],[1,970,56,43,"options"],[1,972,56,51,"height"],[1,980,56,61],[1,985,58,4,"errors"],[1,987,58,11,"push"],[1,992,58,16],[1,1044,59,11,"options"],[1,1046,59,19,"height"],[1,1055,62,31],[1,1072,62,11,"options"],[1,1074,62,19,"quality"],[1,1083,63,4,"options"],[1,1085,63,12,"quality"],[1,1093,63,22],[1,1096,64,4,"options"],[1,1098,64,12,"quality"],[1,1106,64,22],[1,1111,66,4,"errors"],[1,1113,66,11,"push"],[1,1118,66,16],[1,1175,67,4,"options"],[1,1177,67,12,"quality"],[1,1185,67,22,"defaultOptions"],[1,1187,67,37,"quality"],[1,1196,69,50],[1,1214,69,13,"options"],[1,1216,69,21,"snapshotContentContainer"],[1,1242,70,4,"errors"],[1,1244,70,11,"push"],[1,1249,70,16],[1,1305,72,6],[1,1309,72,6,"acceptedFormats"],[1,1311,72,22,"indexOf"],[1,1319,72,30,"options"],[1,1321,72,38,"format"],[1,1331,73,4,"options"],[1,1333,73,12,"format"],[1,1340,73,21,"defaultOptions"],[1,1342,73,36,"format"],[1,1349,74,4,"errors"],[1,1351,74,11,"push"],[1,1356,75,6],[1,1374,75,26,"options"],[1,1376,75,34,"format"],[1,1383,75,43],[1,1413,75,75,"acceptedFormats"],[1,1415,75,91,"join"],[1,1420,75,96],[1,1430,78,6],[1,1434,78,6,"acceptedResults"],[1,1436,78,22,"indexOf"],[1,1444,78,30,"options"],[1,1446,78,38,"result"],[1,1456,79,4,"options"],[1,1458,79,12,"result"],[1,1465,79,21,"defaultOptions"],[1,1467,79,36,"result"],[1,1474,80,4,"errors"],[1,1476,80,11,"push"],[1,1481,81,6],[1,1499,81,26,"options"],[1,1501,81,34,"result"],[1,1508,81,44],[1,1538,81,76,"acceptedResults"],[1,1540,81,92,"join"],[1,1545,81,97],[1,1555,84,11,"options"],[1,1563,84,11,"options"],[1,1565,84,20,"errors"],[1,1572,84,20,"errors"],[1,1575,87,7],[1,1584,87,16,"captureRef"],[1,1586,88,2,"view"],[1,1588,89,2,"optionsObject"],[1,1591,91,2],[1,1594,91,22],[1,1611,91,13,"view"],[1,1613,91,32],[1,1614,92,4],[1,1618,92,10,"node"],[1,1621,92,17],[1,1623,92,17,"_reactNative"],[1,1625,92,17,"findNodeHandle"],[1,1641,92,32,"view"],[1,1644,93,4],[1,1648,93,9,"node"],[1,1650,94,6],[1,1657,94,13,"Promise"],[1,1665,94,21,"reject"],[1,1672,95,8],[1,1676,95,12,"Error"],[1,1682,95,18],[1,1723,95,61,"String"],[1,1730,95,68,"view"],[1,1735,97,4,"view"],[1,1737,97,11,"node"],[1,1739,90,19],[1,1743,90,19,"_validateOptions"],[1,1745,99,30,"validateOptions"],[1,1747,99,46,"optionsObject"],[1,1750,99,10,"options"],[1,1752,90,19,"_validateOptions"],[1,1754,99,10,"options"],[1,1762,90,19,"_validateOptions"],[1,1764,99,19,"errors"],[1,1771,106,2],[1,1778,106,9,"RNViewShot"],[1,1780,106,20,"captureRef"],[1,1791,106,31,"view"],[1,1793,106,37,"options"],[1,1796,109,7],[1,1805,109,16,"releaseCapture"],[1,1807,109,31,"uri"],[1,1810,110,21],[1,1827,110,13,"uri"],[1,1830,115,4,"RNViewShot"],[1,1832,115,15,"releaseCapture"],[1,1847,115,30,"uri"],[1,1854,163,21,"ViewShot"],[1,2066,173,2,"firstLayoutPromise"],[1,2085,173,23],[1,2089,173,27,"Promise"],[1,2097,173,35],[1,2106,173,35,"resolve"],[1,2109,174,4,"_this"],[1,2111,174,9,"resolveFirstLayout"],[1,2130,174,30,"resolve"],[1,2136,177,2,"capture"],[1,2144,177,12],[1,2155,177,12],[1,2162,178,4,"_this"],[1,2164,178,9,"firstLayoutPromise"],[1,2183,179,7,"then"],[1,2188,179,12],[1,2199,179,18],[1,2203,180,16,"root"],[1,2206,179,18],[1,2208,179,18,"_assertThisInitialized2"],[1,2210,179,18,"default"],[1,2219,179,18,"_this"],[1,2222,180,16,"root"],[1,2227,181,8],[1,2234,181,13,"root"],[1,2236,182,15,"captureRef"],[1,2238,182,26,"root"],[1,2240,182,32,"_this"],[1,2242,182,37,"props"],[1,2248,182,43,"options"],[1,2257,181,26,"neverEndingPromise"],[1,2261,184,7,"then"],[1,2266,185,8],[1,2275,185,9,"uri"],[1,2278,187,10],[1,2285,186,10,"_this"],[1,2287,186,15,"onCapture"],[1,2297,186,25,"uri"],[1,2300,187,17,"uri"],[1,2303,189,8],[1,2312,189,9,"e"],[1,2315,191,10],[1,2321,190,10,"_this"],[1,2323,190,15,"onCaptureFailure"],[1,2340,190,32,"e"],[1,2343,191,16,"e"],[1,2350,195,2,"onCapture"],[1,2360,195,14],[1,2369,195,15,"uri"],[1,2372,196,4],[1,2375,196,9,"_this"],[1,2377,196,14,"root"],[1,2382,196,4],[1,2383,197,8,"_this"],[1,2385,197,13,"lastCapturedURI"],[1,2402,199,6,"setTimeout"],[1,2413,199,17,"releaseCapture"],[1,2415,199,33],[1,2419,199,38,"_this"],[1,2421,199,43,"lastCapturedURI"],[1,2438,201,4,"_this"],[1,2440,201,9,"lastCapturedURI"],[1,2456,201,27,"uri"],[1,2458,195,31],[1,2462,202,12,"onCapture"],[1,2464,202,26,"_this"],[1,2466,202,31,"props"],[1,2472,202,12,"onCapture"],[1,2482,203,8,"onCapture"],[1,2485,203,19,"onCapture"],[1,2487,203,29,"uri"],[1,2494,206,2,"onCaptureFailure"],[1,2511,206,21],[1,2520,206,22,"e"],[1,2523,207,4],[1,2526,207,9,"_this"],[1,2528,207,14,"root"],[1,2533,207,4],[1,2534,206,35],[1,2538,208,12,"onCaptureFailure"],[1,2540,208,33,"_this"],[1,2542,208,38,"props"],[1,2548,208,12,"onCaptureFailure"],[1,2565,209,8,"onCaptureFailure"],[1,2568,209,26,"onCaptureFailure"],[1,2570,209,43,"e"],[1,2577,212,2,"syncCaptureLoop"],[1,2593,212,20],[1,2602,212,21,"captureMode"],[1,2605,214,4],[1,2608,213,4,"cancelAnimationFrame"],[1,2629,213,25,"_this"],[1,2631,213,30,"_raf"],[1,2637,214,24],[1,2652,214,8,"captureMode"],[1,2654,214,38],[1,2655,215,6],[1,2659,215,10,"previousCaptureURI"],[1,2661,215,31],[1,2665,222,6,"_this"],[1,2667,222,11,"_raf"],[1,2672,222,18,"requestAnimationFrame"],[1,2694,216,19],[1,2703,216,12,"loop"],[1,2707,217,8,"_this"],[1,2709,217,13,"_raf"],[1,2714,217,20,"requestAnimationFrame"],[1,2736,217,42,"loop"],[1,2739,218,12,"previousCaptureURI"],[1,2743,218,35,"_this"],[1,2745,218,40,"lastCapturedURI"],[1,2763,219,8,"previousCaptureURI"],[1,2765,219,29,"_this"],[1,2767,219,34,"lastCapturedURI"],[1,2783,220,8,"_this"],[1,2785,220,13,"capture"],[1,2802,226,2,"onRef"],[1,2808,226,10],[1,2817,226,11,"ref"],[1,2820,227,4,"_this"],[1,2822,227,9,"root"],[1,2827,227,16,"ref"],[1,2832,230,2,"onLayout"],[1,2841,230,13],[1,2850,230,14,"e"],[1,2853,230,57],[1,2857,231,12,"onLayout"],[1,2859,231,25,"_this"],[1,2861,231,30,"props"],[1,2867,231,12,"onLayout"],[1,2876,232,4,"_this"],[1,2878,232,9,"resolveFirstLayout"],[1,2897,232,28,"e"],[1,2899,232,30,"nativeEvent"],[1,2911,232,42,"layout"],[1,2919,233,8,"onLayout"],[1,2922,233,18,"onLayout"],[1,2924,233,27,"e"],[1,3014,238,35],[1,3024,238,8,"this"],[1,3029,238,13,"props"],[1,3035,238,19,"captureMode"],[1,3047,239,6,"this"],[1,3052,239,11,"capture"],[1,3062,241,6,"this"],[1,3067,241,11,"syncCaptureLoop"],[1,3083,241,27,"this"],[1,3088,241,32,"props"],[1,3094,241,38,"captureMode"],[1,3157,245,28,"nextProps"],[1,3160,246,8,"nextProps"],[1,3162,246,18,"captureMode"],[1,3176,246,34,"this"],[1,3181,246,39,"props"],[1,3187,246,45,"captureMode"],[1,3200,247,6,"this"],[1,3205,247,11,"syncCaptureLoop"],[1,3221,247,27,"nextProps"],[1,3223,247,37,"captureMode"],[1,3281,252,35],[1,3292,252,8,"this"],[1,3297,252,13,"props"],[1,3303,252,19,"captureMode"],[1,3316,253,6,"this"],[1,3321,253,11,"capture"],[1,3378,258,4,"this"],[1,3383,258,9,"syncCaptureLoop"],[1,3399,258,25],[1,3438,261,11],[1,3442,262,12,"children"],[1,3444,262,25,"this"],[1,3449,262,30,"props"],[1,3455,262,12,"children"],[1,3464,263,4],[1,3471,264,6,"_react"],[1,3473,264,6,"default"],[1,3481,264,6,"createElement"],[1,3495,264,7,"_reactNative"],[1,3497,264,7,"View"],[1,3503,264,12,"ref"],[1,3507,264,17,"this"],[1,3512,264,22,"onRef"],[1,3518,264,29,"collapsable"],[1,3531,264,42],[1,3533,264,49,"onLayout"],[1,3542,264,59,"this"],[1,3547,264,64,"onLayout"],[1,3556,264,74,"style"],[1,3562,264,81,"this"],[1,3567,264,86,"props"],[1,3573,264,92,"style"],[1,3580,265,9,"children"],[1,3591,163,38,"Component"],[1,3593,163,38,"Component"],[1,3616,163,21,"ViewShot"],[1,3618,164,9,"captureRef"],[1,3629,164,22,"captureRef"],[1,3631,163,21,"ViewShot"],[1,3633,165,9,"releaseCapture"],[1,3648,165,26,"releaseCapture"]]},"type":"js/module"}]}